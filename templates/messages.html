<div id="messages-container">
    <aside id="conversations-list">
        <ul>
            {% for conversation in conversations -%}
                <li hx-get="/conversations/{{ conversation.peer }}" hx-target="#conversation-content" hx-push-url="true">
                    <header> 
                        <span class="conversation-name">{{ conversation.peer }}</span>
                        <span class="conversation-date">{{ conversation.date }}</span>
                    </header>
                    <span class="message-preview">
                        {{ conversation.preview }}
                    </span>
                </li>
            {% endfor %}
        </ul>

    </aside>
    <main id="conversation-content">
        {% match selected -%}
            {% when Some with (message) -%}
                {{ message|safe }}
            {% when None -%}
                <div id="no-messages-container">
                    <p id="no-messages">Select a conversation to see the messages!</p>
                </div>
        {% endmatch %}
    </main>
</div>
