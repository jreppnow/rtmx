<li style="display: none;" id="hidden-refresh">
    <form hx-get="/conversations/direct/{{ peer }}/poll" hx-target="closest li" hx-swap="outerHTML" hx-trigger="every 10s">
        {% match last_seen_message_id -%}
            {% when Some with (message_id) -%} 
                <input type="hidden" name="last-seen-message-id" value="{{ message_id }}"/>
            {% else %}
        {% endmatch %}
    </form>
</li>
{% for message in messages -%}
    {{ message|safe }}
{% endfor %}
